<div class="container flex justify-center mx-auto pt-20">
  <h1 class="text-green-700 text-5xl font-extrabold">Find Staff</h1>
</div>
<br /><br /><br />

<form [formGroup]="myForm" (ngSubmit)="findStaffByName()">
  <div class="max-w-md mx-auto">
    <div
      class="relative flex items-center w-full h-12 rounded-lg focus-within:shadow-lg bg-white overflow-hidden"
    >
      <div class="grid place-items-center h-full w-12 text-gray-300">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
      </div>
      <input
        class="peer h-full w-full outline-none text-sm text-gray-700 pr-2"
        type="text"
        id="search"
        formControlName="staffUnique"
        placeholder="Enter staff's username to search staff.."
      />
      <button
        (click)="findStaffByName()"
        type="submit"
        class="btn inline-block px-6 py-2 border-2 border-blue-600 text-blue-600 font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out"
        type="button"
        id="button-addon3"
      >
        Search
      </button>
    </div>
  </div>
</form>
<div
  class="max-w-sm bg-white shadow-lg rounded-lg overflow-hidden my-4"
  *ngIf="staffuser != undefined"
>
  <div *ngFor="let st of staffuser.data">
    <img
      class="w-full h-56 object-cover object-center"
      src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80"
      alt="avatar"
    />
    <div class="flex items-center px-6 py-3 bg-gray-900">
      <h1 class="mx-3 text-white font-semibold text-lg">
        {{ st.name }}
      </h1>
      <br />
    </div>
    <div class="py-4 px-6">
      <h1 class="text-2xl font-semibold text-gray-800"></h1>
      <div class="flex flex-row items-center">
        <h1 class="text-blue-500">Department:</h1>
        <h2 class="py-2 text-lg text-gray-700">
          {{ st.department }}
        </h2>
      </div>

      <div class="flex flex-row items-center">
        <h1 class="text-blue-500">Staff ID:</h1>
        <h2 class="py-2 text-lg text-gray-700">
          {{ st.staffID }}
        </h2>
      </div>
      <div class="flex items-center mt-4 text-gray-700">
        <svg class="h-6 w-6 fill-current" viewBox="0 0 512 512">
          <path
            d="M437.332 80H74.668C51.199 80 32 99.198 32 122.667v266.666C32 412.802 51.199 432 74.668 432h362.664C460.801 432 480 412.802 480 389.333V122.667C480 99.198 460.801 80 437.332 80zM432 170.667L256 288 80 170.667V128l176 117.333L432 128v42.667z"
          />
        </svg>
        <a href="#"
          ><h2 class="px-2 text-sm">{{ st.username }}</h2></a
        >
      </div>

      <div class="flex items-center mt-4 text-gray-700">
        <img src="https://svgsilh.com/svg/1831922.svg" class="w-7 h-5" />
        <a href="#"
          ><h2 class="px-2 text-sm">{{ st.phone }}</h2></a
        >
      </div>

      <div
        *ngIf="checkAdmin() || checkOwnId()"
        class="pt-4 flex items-center space-x-4"
      >
        <button
          (click)="editStaff(); save($event)"
          attr.id="{{ st.id }}"
          class="bg-blue-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none"
        >
          Edit
        </button>
        <div *ngIf="checkAdmin()">
          <button
            (click)="deleteStaff(); save($event)"
          attr.id="{{ st.id }}"
            class="bg-red-700 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none"
          >
            <svg
              class="w-6 h-6 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              ></path>
            </svg>
            Delete
          </button>
        </div>
      </div>
    </div>
    <hr><br><br><br>
  </div>
</div>
<div *ngIf="staffuser == undefined">
<div class="container flex justify-center mx-auto pt-20">
  <h1 class="text-green-700 text-5xl font-extrabold">Staffs</h1>
  </div>
  <h2
    class="text-3xl text-center text-gray-800 font-extrabold pb-6 sm:w-auto w-auto mx-auto"
  >
    List of the staffs are given below
  </h2>

  <br /><br /><br />
  <div class="md:w-full grid grid-cols-2">
    <div *ngFor="let st of staff.data">
      <div class="w-full bg-gray-50 px-10 pt-10">
        <div class="container mx-auto">
          <div
            role="list"
            aria-label="Behind the scenes People "
            class="lg:flex md:flex sm:flex items-center xl:justify-between flex-wrap md:justify-around sm:justify-around lg:justify-around"
          >
            <div
              role="listitem"
              class="xl:w-full sm:w-3/4 md:w-full relative mt-16 mb-32 sm:mb-24 xl:max-w-sm lg:w-2/5"
            >
              <div class="rounded overflow-hidden shadow-md bg-white">
                <div class="absolute -mt-20 w-full flex justify-center">
                  <div class="h-32 w-32">
                    <img
                      src="https://kacrm.datamaticsbpm.com/assets/images/users/avatar-1.jpeg"
                      alt="Display Picture of Andres Berlin"
                      role="img"
                      class="rounded-full object-cover h-full w-full shadow-md"
                    />
                  </div>
                </div>
                <div class="px-6 mt-16">
                  <h1
                    class="text-orange-800 font-bold text-3xl text-center mb-1"
                  >
                    {{ st.name }}
                  </h1>
                  <p class="text-gray-800 text-sm text-center">
                    Staff Id: {{ st.staffID }}
                  </p>
                  <p
                    class="text-center text-gray-600 text-base pt-3 font-normal"
                  >
                    Department: {{ st.department }}
                  </p>
                  <p
                    class="text-center text-gray-600 text-base pt-3 font-normal"
                  >
                    E-Mail: {{ st.username }}
                  </p>
                  <p
                    class="text-center text-gray-600 text-base pt-3 font-normal"
                  >
                    Phone Number: {{ st.phone }}
                  </p>
                  <p
                    class="text-center text-green-600 text-base pt-3 font-normal"
                  >
                    Staus: {{ st.status }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
